{"version":3,"file":"vega-view.min.js","sources":["../src/aria.js","../src/cursor.js","../src/data.js","../src/render-size.js","../src/events-extend.js","../src/events.js","../src/hover.js","../src/element.js","../../../node_modules/d3-array/src/ticks.js","../src/bind.js","../src/initialize-renderer.js","../src/trap.js","../src/initialize.js","../src/padding.js","../src/render-headless.js","../src/size.js","../src/state.js","../../../node_modules/d3-timer/src/timer.js","../src/tooltip.js","../src/View.js","../src/runtime.js","../src/background.js","../src/timer.js","../../../node_modules/d3-timer/src/interval.js","../src/finalize.js","../src/scale.js","../src/initialize-handler.js","../src/render-to-image-url.js","../src/render-to-canvas.js","../src/render-to-svg.js"],"sourcesContent":["// initialize aria role and label attributes\nexport function initializeAria(view) {\n  const el = view.container();\n  if (el) {\n    el.setAttribute('role', 'graphics-document');\n    el.setAttribute('aria-roleDescription', 'visualization');\n    ariaLabel(el, view.description());\n  }\n}\n\n// update aria-label if we have a DOM container element\nexport function ariaLabel(el, desc) {\n  if (el) desc == null\n    ? el.removeAttribute('aria-label')\n    : el.setAttribute('aria-label', desc);\n}\n","import {isString} from 'vega-util';\n\nconst Default = 'default';\n\nexport default function(view) {\n  // get cursor signal, add to dataflow if needed\n  const cursor = view._signals.cursor || (view._signals.cursor = view.add({\n    user: Default,\n    item: null\n  }));\n\n  // evaluate cursor on each mousemove event\n  view.on(view.events('view', 'mousemove'), cursor,\n    (_, event) => {\n      const value = cursor.value,\n            user = value ? (isString(value) ? value : value.user) : Default,\n            item = event.item && event.item.cursor || null;\n\n      return (value && user === value.user && item == value.item)\n        ? value\n        : {user: user, item: item};\n    }\n  );\n\n  // when cursor signal updates, set visible cursor\n  view.add(null, function(_) {\n    let user = _.cursor,\n        item = this.value;\n\n    if (!isString(user)) {\n      item = user.item;\n      user = user.user;\n    }\n\n    setCursor(view, user && user !== Default ? user : (item || user));\n\n    return item;\n  }, {cursor: cursor});\n}\n\nexport function setCursor(view, cursor) {\n  const el = view.globalCursor()\n    ? (typeof document !== 'undefined' && document.body)\n    : view.container();\n\n  if (el) {\n    return cursor == null\n      ? el.style.removeProperty('cursor')\n      : (el.style.cursor = cursor);\n  }\n}\n","import {changeset, isChangeSet} from 'vega-dataflow';\nimport {error, hasOwnProperty, truthy} from 'vega-util';\n\nexport function dataref(view, name) {\n  var data = view._runtime.data;\n  if (!hasOwnProperty(data, name)) {\n    error('Unrecognized data set: ' + name);\n  }\n  return data[name];\n}\n\nexport function data(name, values) {\n  return arguments.length < 2\n    ? dataref(this, name).values.value\n    : change.call(this, name, changeset().remove(truthy).insert(values));\n}\n\nexport function change(name, changes) {\n  if (!isChangeSet(changes)) {\n    error('Second argument to changes must be a changeset.');\n  }\n  const dataset = dataref(this, name);\n  dataset.modified = true;\n  return this.pulse(dataset.input, changes);\n}\n\nexport function insert(name, _) {\n  return change.call(this, name, changeset().insert(_));\n}\n\nexport function remove(name, _) {\n  return change.call(this, name, changeset().remove(_));\n}\n","export function width(view) {\n  var padding = view.padding();\n  return Math.max(0, view._viewWidth + padding.left + padding.right);\n}\n\nexport function height(view) {\n  var padding = view.padding();\n  return Math.max(0, view._viewHeight + padding.top + padding.bottom);\n}\n\nexport function offset(view) {\n  var padding = view.padding(),\n      origin = view._origin;\n  return [\n    padding.left + origin[0],\n    padding.top + origin[1]\n  ];\n}\n\nexport function resizeRenderer(view) {\n  var origin = offset(view),\n      w = width(view),\n      h = height(view);\n\n  view._renderer.background(view.background());\n  view._renderer.resize(w, h, origin);\n  view._handler.origin(origin);\n\n  view._resizeListeners.forEach(handler => {\n    try {\n      handler(w, h);\n    } catch (error) {\n      view.error(error);\n    }\n  });\n}\n","import {offset} from './render-size';\nimport {constant, isString} from 'vega-util';\nimport {point} from 'vega-scenegraph';\n\n/**\n * Extend an event with additional view-specific methods.\n * Adds a new property ('vega') to an event that provides a number\n * of methods for querying information about the current interaction.\n * The vega object provides the following methods:\n *   view - Returns the backing View instance.\n *   item - Returns the currently active scenegraph item (if any).\n *   group - Returns the currently active scenegraph group (if any).\n *     This method accepts a single string-typed argument indicating the name\n *     of the desired parent group. The scenegraph will be traversed from\n *     the item up towards the root to search for a matching group. If no\n *     argument is provided the enclosing group for the active item is\n *     returned, unless the item it itself a group, in which case it is\n *     returned directly.\n *   xy - Returns a two-element array containing the x and y coordinates for\n *     mouse or touch events. For touch events, this is based on the first\n *     elements in the changedTouches array. This method accepts a single\n *     argument: either an item instance or mark name that should serve as\n *     the reference coordinate system. If no argument is provided the\n *     top-level view coordinate system is assumed.\n *   x - Returns the current x-coordinate, accepts the same arguments as xy.\n *   y - Returns the current y-coordinate, accepts the same arguments as xy.\n * @param {Event} event - The input event to extend.\n * @param {Item} item - The currently active scenegraph item (if any).\n * @return {Event} - The extended input event.\n */\nexport default function(view, event, item) {\n  var r  = view._renderer,\n      el = r && r.canvas(),\n      p, e, translate;\n\n  if (el) {\n    translate = offset(view);\n    e = event.changedTouches ? event.changedTouches[0] : event;\n    p = point(e, el);\n    p[0] -= translate[0];\n    p[1] -= translate[1];\n  }\n\n  event.dataflow = view;\n  event.item = item;\n  event.vega = extension(view, item, p);\n  return event;\n}\n\nfunction extension(view, item, point) {\n  const itemGroup = item\n    ? item.mark.marktype === 'group' ? item : item.mark.group\n    : null;\n\n  function group(name) {\n    var g = itemGroup, i;\n    if (name) for (i = item; i; i = i.mark.group) {\n      if (i.mark.name === name) { g = i; break; }\n    }\n    return g && g.mark && g.mark.interactive ? g : {};\n  }\n\n  function xy(item) {\n    if (!item) return point;\n    if (isString(item)) item = group(item);\n\n    const p = point.slice();\n    while (item) {\n      p[0] -= item.x || 0;\n      p[1] -= item.y || 0;\n      item = item.mark && item.mark.group;\n    }\n    return p;\n  }\n\n  return {\n    view:  constant(view),\n    item:  constant(item || {}),\n    group: group,\n    xy:    xy,\n    x:     item => xy(item)[0],\n    y:     item => xy(item)[1]\n  };\n}\n","import eventExtend from './events-extend';\nimport {EventStream} from 'vega-dataflow';\nimport {extend, isArray, isObject, toSet} from 'vega-util';\n\nconst VIEW = 'view',\n      TIMER = 'timer',\n      WINDOW = 'window',\n      NO_TRAP = {trap: false};\n\n/**\n * Initialize event handling configuration.\n * @param {object} config - The configuration settings.\n * @return {object}\n */\nexport function initializeEventConfig(config) {\n  const events = extend({defaults: {}}, config);\n\n  const unpack = (obj, keys) => {\n    keys.forEach(k => {\n      if (isArray(obj[k])) obj[k] = toSet(obj[k]);\n    });\n  };\n\n  unpack(events.defaults, ['prevent', 'allow']);\n  unpack(events, ['view', 'window', 'selector']);\n\n  return events;\n}\n\nfunction prevent(view, type) {\n  var def = view._eventConfig.defaults,\n      prevent = def.prevent,\n      allow = def.allow;\n\n  return prevent === false || allow === true ? false\n    : prevent === true || allow === false ? true\n    : prevent ? prevent[type]\n    : allow ? !allow[type]\n    : view.preventDefault();\n}\n\nfunction permit(view, key, type) {\n  const rule = view._eventConfig && view._eventConfig[key];\n\n  if (rule === false || (isObject(rule) && !rule[type])) {\n    view.warn(`Blocked ${key} ${type} event listener.`);\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Create a new event stream from an event source.\n * @param {object} source - The event source to monitor.\n * @param {string} type - The event type.\n * @param {function(object): boolean} [filter] - Event filter function.\n * @return {EventStream}\n */\nexport function events(source, type, filter) {\n  var view = this,\n      s = new EventStream(filter),\n      send = function(e, item) {\n        view.runAsync(null, () => {\n          if (source === VIEW && prevent(view, type)) {\n            e.preventDefault();\n          }\n          s.receive(eventExtend(view, e, item));\n        });\n      },\n      sources;\n\n  if (source === TIMER) {\n    if (permit(view, 'timer', type)) {\n      view.timer(send, type);\n    }\n  }\n\n  else if (source === VIEW) {\n    if (permit(view, 'view', type)) {\n      // send traps errors, so use {trap: false} option\n      view.addEventListener(type, send, NO_TRAP);\n    }\n  }\n\n  else {\n    if (source === WINDOW) {\n      if (permit(view, 'window', type) && typeof window !== 'undefined') {\n        sources = [window];\n      }\n    } else if (typeof document !== 'undefined') {\n      if (permit(view, 'selector', type)) {\n        sources = document.querySelectorAll(source);\n      }\n    }\n\n    if (!sources) {\n      view.warn('Can not resolve event source: ' + source);\n    } else {\n      for (var i=0, n=sources.length; i<n; ++i) {\n        sources[i].addEventListener(type, send);\n      }\n\n      view._eventListeners.push({\n        type:    type,\n        sources: sources,\n        handler: send\n      });\n    }\n  }\n\n  return s;\n}\n","function itemFilter(event) {\n  return event.item;\n}\n\nfunction markTarget(event) {\n  // grab upstream collector feeding the mark operator\n  return event.item.mark.source;\n}\n\nfunction invoke(name) {\n  return function(_, event) {\n    return event.vega.view()\n      .changeset()\n      .encode(event.item, name);\n  };\n}\n\nexport default function(hoverSet, leaveSet) {\n  hoverSet = [hoverSet || 'hover'];\n  leaveSet = [leaveSet || 'update', hoverSet[0]];\n\n  // invoke hover set upon mouseover\n  this.on(\n    this.events('view', 'mouseover', itemFilter),\n    markTarget,\n    invoke(hoverSet)\n  );\n\n  // invoke leave set upon mouseout\n  this.on(\n    this.events('view', 'mouseout', itemFilter),\n    markTarget,\n    invoke(leaveSet)\n  );\n\n  return this;\n}\n","export default function(tag, attr, text) {\n  const el = document.createElement(tag);\n  for (const key in attr) el.setAttribute(key, attr[key]);\n  if (text != null) el.textContent = text;\n  return el;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    step = -step;\n    start = Math.ceil(start * step);\n    stop = Math.floor(stop * step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import element from './element';\nimport {debounce} from 'vega-util';\nimport {tickStep} from 'd3-array';\n\nconst BindClass = 'vega-bind',\n      NameClass = 'vega-bind-name',\n      RadioClass = 'vega-bind-radio';\n\n/**\n * Bind a signal to an external HTML input element. The resulting two-way\n * binding will propagate input changes to signals, and propagate signal\n * changes to the input element state. If this view instance has no parent\n * element, we assume the view is headless and no bindings are created.\n * @param {Element|string} el - The parent DOM element to which the input\n *   element should be appended as a child. If string-valued, this argument\n *   will be treated as a CSS selector. If null or undefined, the parent\n *   element of this view will be used as the element.\n * @param {object} param - The binding parameters which specify the signal\n *   to bind to, the input element type, and type-specific configuration.\n * @return {View} - This view instance.\n */\nexport default function(view, el, binding) {\n  if (!el) return;\n\n  const param = binding.param;\n  let bind = binding.state;\n\n  if (!bind) {\n    bind = binding.state = {\n      elements: null,\n      active: false,\n      set: null,\n      update: value => {\n        if (value !== view.signal(param.signal)) {\n          view.runAsync(null, () => {\n            bind.source = true;\n            view.signal(param.signal, value);\n          });\n        }\n      }\n    };\n    if (param.debounce) {\n      bind.update = debounce(param.debounce, bind.update);\n    }\n  }\n\n  generate(bind, el, param, view.signal(param.signal));\n\n  if (!bind.active) {\n    view.on(view._signals[param.signal], null, () => {\n      bind.source\n        ? (bind.source = false)\n        : bind.set(view.signal(param.signal));\n    });\n    bind.active = true;\n  }\n\n  return bind;\n}\n\n/**\n * Generate an HTML input form element and bind it to a signal.\n */\nfunction generate(bind, el, param, value) {\n  const div = element('div', {'class': BindClass});\n\n  const wrapper = param.input === 'radio'\n    ? div\n    : div.appendChild(element('label'));\n\n  wrapper.appendChild(element('span',\n    {'class': NameClass},\n    (param.name || param.signal)\n  ));\n\n  el.appendChild(div);\n\n  let input = form;\n  switch (param.input) {\n    case 'checkbox': input = checkbox; break;\n    case 'select':   input = select; break;\n    case 'radio':    input = radio; break;\n    case 'range':    input = range; break;\n  }\n\n  input(bind, wrapper, param, value);\n}\n\n/**\n * Generates an arbitrary input form element.\n * The input type is controlled via user-provided parameters.\n */\nfunction form(bind, el, param, value) {\n  const node = element('input');\n\n  for (const key in param) {\n    if (key !== 'signal' && key !== 'element') {\n      node.setAttribute(key === 'input' ? 'type' : key, param[key]);\n    }\n  }\n  node.setAttribute('name', param.signal);\n  node.value = value;\n\n  el.appendChild(node);\n  node.addEventListener('input', () => bind.update(node.value));\n\n  bind.elements = [node];\n  bind.set = value => node.value = value;\n}\n\n/**\n * Generates a checkbox input element.\n */\nfunction checkbox(bind, el, param, value) {\n  const attr = {type: 'checkbox', name: param.signal};\n  if (value) attr.checked = true;\n  const node = element('input', attr);\n\n  el.appendChild(node);\n  node.addEventListener('change', () => bind.update(node.checked));\n\n  bind.elements = [node];\n  bind.set = value => node.checked = !!value || null;\n}\n\n/**\n * Generates a selection list input element.\n */\nfunction select(bind, el, param, value) {\n  const node = element('select', {name: param.signal}),\n        labels = param.labels || [];\n\n  param.options.forEach((option, i) => {\n    const attr = {value: option};\n    if (valuesEqual(option, value)) attr.selected = true;\n    node.appendChild(element('option', attr, (labels[i] || option)+''));\n  });\n\n  el.appendChild(node);\n\n  node.addEventListener('change', () => {\n    bind.update(param.options[node.selectedIndex]);\n  });\n\n  bind.elements = [node];\n  bind.set = value => {\n    for (let i = 0, n = param.options.length; i < n; ++i) {\n      if (valuesEqual(param.options[i], value)) {\n        node.selectedIndex = i; return;\n      }\n    }\n  };\n}\n\n/**\n * Generates a radio button group.\n */\nfunction radio(bind, el, param, value) {\n  const group = element('span', {'class': RadioClass}),\n        labels = param.labels || [];\n\n  el.appendChild(group);\n\n  bind.elements = param.options.map((option, i) => {\n    const attr = {\n      type:  'radio',\n      name:  param.signal,\n      value: option\n    };\n    if (valuesEqual(option, value)) attr.checked = true;\n\n    const input = element('input', attr);\n    input.addEventListener('change', () => bind.update(option));\n\n    const label = element('label', {}, (labels[i] || option)+'');\n    label.prepend(input);\n    group.appendChild(label);\n\n    return input;\n  });\n\n  bind.set = value => {\n    const nodes = bind.elements,\n          n = nodes.length;\n    for (let i = 0; i < n; ++i) {\n      if (valuesEqual(nodes[i].value, value)) nodes[i].checked = true;\n    }\n  };\n}\n\n/**\n * Generates a slider input element.\n */\nfunction range(bind, el, param, value) {\n  value = value !== undefined ? value : ((+param.max) + (+param.min)) / 2;\n\n  const max = param.max != null ? param.max : Math.max(100, +value) || 100,\n        min = param.min || Math.min(0, max, +value) || 0,\n        step = param.step || tickStep(min, max, 100);\n\n  const node = element('input', {\n    type:  'range',\n    name:  param.signal,\n    min:   min,\n    max:   max,\n    step:  step\n  });\n  node.value = value;\n\n  const span = element('span', {}, +value);\n\n  el.appendChild(node);\n  el.appendChild(span);\n\n  const update = () => {\n    span.textContent = node.value;\n    bind.update(+node.value);\n  };\n\n  // subscribe to both input and change\n  node.addEventListener('input', update);\n  node.addEventListener('change', update);\n\n  bind.elements = [node];\n  bind.set = value => {\n    node.value = value;\n    span.textContent = value;\n  };\n}\n\nfunction valuesEqual(a, b) {\n  return a === b || (a+'' === b+'');\n}\n","import {height, offset, width} from './render-size';\n\nexport default function(view, r, el, constructor, scaleFactor, opt) {\n  r = r || new constructor(view.loader());\n  return r\n    .initialize(el, width(view), height(view), offset(view), scaleFactor, opt)\n    .background(view.background());\n}\n","export default function(view, fn) {\n  return !fn ? null : function() {\n    try {\n      fn.apply(this, arguments);\n    } catch (error) {\n      view.error(error);\n    }\n  };\n}\n","import {initializeAria} from './aria';\nimport bind from './bind';\nimport element from './element';\nimport initializeRenderer from './initialize-renderer';\nimport initializeHandler from './initialize-handler';\nimport {CanvasHandler, renderModule} from 'vega-scenegraph';\n\nexport default function(el, elBind) {\n  const view = this,\n        type = view._renderType,\n        config = view._eventConfig.bind,\n        module = renderModule(type);\n\n  // containing dom element\n  el = view._el = el ? lookup(view, el) : null;\n\n  // initialize aria attributes\n  initializeAria(view);\n\n  // select appropriate renderer & handler\n  if (!module) view.error('Unrecognized renderer type: ' + type);\n  const Handler = module.handler || CanvasHandler,\n        Renderer = (el ? module.renderer : module.headless);\n\n  // initialize renderer and input handler\n  view._renderer = !Renderer ? null\n    : initializeRenderer(view, view._renderer, el, Renderer);\n  view._handler = initializeHandler(view, view._handler, el, Handler);\n  view._redraw = true;\n\n  // initialize signal bindings\n  if (el && config !== 'none') {\n    elBind = elBind ? (view._elBind = lookup(view, elBind))\n      : el.appendChild(element('form', {'class': 'vega-bindings'}));\n\n    view._bind.forEach(_ => {\n      if (_.param.element && config !== 'container') {\n        _.element = lookup(view, _.param.element);\n      }\n    });\n\n    view._bind.forEach(_ => {\n      bind(view, _.element || elBind, _);\n    });\n  }\n\n  return view;\n}\n\nfunction lookup(view, el) {\n  if (typeof el === 'string') {\n    if (typeof document !== 'undefined') {\n      el = document.querySelector(el);\n      if (!el) {\n        view.error('Signal bind element not found: ' + el);\n        return null;\n      }\n    } else {\n      view.error('DOM document instance not found.');\n      return null;\n    }\n  }\n  if (el) {\n    try {\n      el.innerHTML = '';\n    } catch (e) {\n      el = null;\n      view.error(e);\n    }\n  }\n  return el;\n}\n","import {isObject} from 'vega-util';\n\nconst number = _ => +_ || 0;\n\nconst paddingObject = _ => ({top: _, bottom: _, left: _, right: _});\n\nexport default function(_) {\n  return isObject(_)\n    ? {\n        top:    number(_.top),\n        bottom: number(_.bottom),\n        left:   number(_.left),\n        right:  number(_.right)\n      }\n    : paddingObject(number(_));\n}\n","import initializeRenderer from './initialize-renderer';\nimport {renderModule} from 'vega-scenegraph';\nimport {error} from 'vega-util';\n\n/**\n * Render the current scene in a headless fashion.\n * This method is asynchronous, returning a Promise instance.\n * @return {Promise} - A Promise that resolves to a renderer.\n */\nexport default async function(view, type, scaleFactor, opt) {\n  const module = renderModule(type),\n        ctr = module && module.headless;\n\n  if (!ctr) error('Unrecognized renderer type: ' + type);\n\n  await view.runAsync();\n  return initializeRenderer(view, null, null, ctr, scaleFactor, opt)\n    .renderAsync(view._scenegraph.root);\n}\n","var Width = 'width',\n    Height = 'height',\n    Padding = 'padding',\n    Skip = {skip: true};\n\nexport function viewWidth(view, width) {\n  var a = view.autosize(),\n      p = view.padding();\n  return width - (a && a.contains === Padding ? p.left + p.right : 0);\n}\n\nexport function viewHeight(view, height) {\n  var a = view.autosize(),\n      p = view.padding();\n  return height - (a && a.contains === Padding ? p.top + p.bottom : 0);\n}\n\nexport function initializeResize(view) {\n  var s = view._signals,\n      w = s[Width],\n      h = s[Height],\n      p = s[Padding];\n\n  function resetSize() {\n    view._autosize = view._resize = 1;\n  }\n\n  // respond to width signal\n  view._resizeWidth = view.add(null,\n    _ => {\n      view._width = _.size;\n      view._viewWidth = viewWidth(view, _.size);\n      resetSize();\n    },\n    {size: w}\n  );\n\n  // respond to height signal\n  view._resizeHeight = view.add(null,\n    _ => {\n      view._height = _.size;\n      view._viewHeight = viewHeight(view, _.size);\n      resetSize();\n    },\n    {size: h}\n  );\n\n  // respond to padding signal\n  const resizePadding = view.add(null, resetSize, {pad: p});\n\n  // set rank to run immediately after source signal\n  view._resizeWidth.rank = w.rank + 1;\n  view._resizeHeight.rank = h.rank + 1;\n  resizePadding.rank = p.rank + 1;\n}\n\nexport function resizeView(viewWidth, viewHeight, width, height, origin, auto) {\n  this.runAfter(view => {\n    let rerun = 0;\n\n    // reset autosize flag\n    view._autosize = 0;\n\n    // width value changed: update signal, skip resize op\n    if (view.width() !== width) {\n      rerun = 1;\n      view.signal(Width, width, Skip); // set width, skip update calc\n      view._resizeWidth.skip(true); // skip width resize handler\n    }\n\n    // height value changed: update signal, skip resize op\n    if (view.height() !== height) {\n      rerun = 1;\n      view.signal(Height, height, Skip); // set height, skip update calc\n      view._resizeHeight.skip(true); // skip height resize handler\n    }\n\n    // view width changed: update view property, set resize flag\n    if (view._viewWidth !== viewWidth) {\n      view._resize = 1;\n      view._viewWidth = viewWidth;\n    }\n\n    // view height changed: update view property, set resize flag\n    if (view._viewHeight !== viewHeight) {\n      view._resize = 1;\n      view._viewHeight = viewHeight;\n    }\n\n    // origin changed: update view property, set resize flag\n    if (view._origin[0] !== origin[0] || view._origin[1] !== origin[1]) {\n      view._resize = 1;\n      view._origin = origin;\n    }\n\n    // run dataflow on width/height signal change\n    if (rerun) view.run('enter');\n    if (auto) view.runAfter(v => v.resize());\n  }, false, 1);\n}\n","import {transforms} from 'vega-dataflow';\nimport {isArray} from 'vega-util';\n\n/**\n * Get the current view state, consisting of signal values and/or data sets.\n * @param {object} [options] - Options flags indicating which state to export.\n *   If unspecified, all signals and data sets will be exported.\n * @param {function(string, Operator):boolean} [options.signals] - Optional\n *   predicate function for testing if a signal should be included in the\n *   exported state. If unspecified, all signals will be included, except for\n *   those named 'parent' or those which refer to a Transform value.\n * @param {function(string, object):boolean} [options.data] - Optional\n *   predicate function for testing if a data set's input should be included\n *   in the exported state. If unspecified, all data sets that have been\n *   explicitly modified will be included.\n * @param {boolean} [options.recurse=true] - Flag indicating if the exported\n *   state should recursively include state from group mark sub-contexts.\n * @return {object} - An object containing the exported state values.\n */\nexport function getState(options) {\n  return this._runtime.getState(options || {\n    data:    dataTest,\n    signals: signalTest,\n    recurse: true\n  });\n}\n\nfunction dataTest(name, data) {\n  return data.modified\n      && isArray(data.input.value)\n      && name.indexOf('_:vega:_');\n}\n\nfunction signalTest(name, op) {\n  return !(name === 'parent' || op instanceof transforms.proxy);\n}\n\n/**\n * Sets the current view state and updates the view by invoking run.\n * @param {object} state - A state object containing signal and/or\n *   data set values, following the format used by the getState method.\n * @return {View} - This view instance.\n */\nexport function setState(state) {\n  this.runAsync(null,\n    v => { v._trigger = false; v._runtime.setState(state); },\n    v => { v._trigger = true; }\n  );\n  return this;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {isArray, isDate, isObject} from 'vega-util';\n\nexport default function(handler, event, item, value) {\n  const el = handler.element();\n  if (el) el.setAttribute('title', formatTooltip(value));\n}\n\nfunction formatTooltip(value) {\n  return value == null ? ''\n    : isArray(value) ? formatArray(value)\n    : isObject(value) && !isDate(value) ? formatObject(value)\n    : value + '';\n}\n\nfunction formatObject(obj) {\n  return Object.keys(obj).map(key => {\n    const v = obj[key];\n    return key + ': ' + (isArray(v) ? formatArray(v) : formatValue(v));\n  }).join('\\n');\n}\n\nfunction formatArray(value) {\n  return '[' + value.map(formatValue).join(', ') + ']';\n}\n\nfunction formatValue(value) {\n  return isArray(value) ? '[\\u2026]'\n    : isObject(value) && !isDate(value) ? '{\\u2026}'\n    : value;\n}\n","import {ariaLabel} from './aria';\nimport background from './background';\nimport cursor, {setCursor} from './cursor';\nimport {change, data, dataref, insert, remove} from './data';\nimport {events, initializeEventConfig} from './events';\nimport hover from './hover';\nimport finalize from './finalize';\nimport initialize from './initialize';\nimport padding from './padding';\nimport renderToImageURL from './render-to-image-url';\nimport renderToCanvas from './render-to-canvas';\nimport renderToSVG from './render-to-svg';\nimport {resizeRenderer} from './render-size';\nimport runtime from './runtime';\nimport {scale} from './scale';\nimport {initializeResize, resizeView, viewHeight, viewWidth} from './size';\nimport {getState, setState} from './state';\nimport timer from './timer';\nimport defaultTooltip from './tooltip';\nimport trap from './trap';\n\nimport {Dataflow, asyncCallback} from 'vega-dataflow';\nimport {locale} from 'vega-format';\nimport {\n  CanvasHandler, RenderType, Scenegraph, renderModule\n} from 'vega-scenegraph';\nimport {\n  error, extend, hasOwnProperty, inherits, stringValue\n} from 'vega-util';\n\n/**\n * Create a new View instance from a Vega dataflow runtime specification.\n * The generated View will not immediately be ready for display. Callers\n * should also invoke the initialize method (e.g., to set the parent\n * DOM element in browser-based deployment) and then invoke the run\n * method to evaluate the dataflow graph. Rendering will automatically\n * be performed upon dataflow runs.\n * @constructor\n * @param {object} spec - The Vega dataflow runtime specification.\n */\nexport default function View(spec, options) {\n  const view = this;\n  options = options || {};\n\n  Dataflow.call(view);\n  if (options.loader) view.loader(options.loader);\n  if (options.logger) view.logger(options.logger);\n  if (options.logLevel != null) view.logLevel(options.logLevel);\n  if (options.locale || spec.locale) {\n    const loc = extend({}, spec.locale, options.locale);\n    view.locale(locale(loc.number, loc.time));\n  }\n\n  view._el = null;\n  view._elBind = null;\n  view._renderType = options.renderer || RenderType.Canvas;\n  view._scenegraph = new Scenegraph();\n  const root = view._scenegraph.root;\n\n  // initialize renderer, handler and event management\n  view._renderer = null;\n  view._tooltip = options.tooltip || defaultTooltip,\n  view._redraw = true;\n  view._handler = new CanvasHandler().scene(root);\n  view._globalCursor = false;\n  view._preventDefault = false;\n  view._timers = [];\n  view._eventListeners = [];\n  view._resizeListeners = [];\n\n  // initialize event configuration\n  view._eventConfig = initializeEventConfig(spec.eventConfig);\n  view.globalCursor(view._eventConfig.globalCursor);\n\n  // initialize dataflow graph\n  const ctx = runtime(view, spec, options.expr);\n  view._runtime = ctx;\n  view._signals = ctx.signals;\n  view._bind = (spec.bindings || []).map(_ => ({\n    state: null,\n    param: extend({}, _)\n  }));\n\n  // initialize scenegraph\n  if (ctx.root) ctx.root.set(root);\n  root.source = ctx.data.root.input;\n  view.pulse(\n    ctx.data.root.input,\n    view.changeset().insert(root.items)\n  );\n\n  // initialize view size\n  view._width = view.width();\n  view._height = view.height();\n  view._viewWidth = viewWidth(view, view._width);\n  view._viewHeight = viewHeight(view, view._height);\n  view._origin = [0, 0];\n  view._resize = 0;\n  view._autosize = 1;\n  initializeResize(view);\n\n  // initialize background color\n  background(view);\n\n  // initialize cursor\n  cursor(view);\n\n  // initialize view description\n  view.description(spec.description);\n\n  // initialize hover proessing, if requested\n  if (options.hover) view.hover();\n\n  // initialize DOM container(s) and renderer\n  if (options.container) view.initialize(options.container, options.bind);\n}\n\nfunction lookupSignal(view, name) {\n  return hasOwnProperty(view._signals, name)\n    ? view._signals[name]\n    : error('Unrecognized signal name: ' + stringValue(name));\n}\n\nfunction findOperatorHandler(op, handler) {\n  const h = (op._targets || [])\n    .filter(op => op._update && op._update.handler === handler);\n  return h.length ? h[0] : null;\n}\n\nfunction addOperatorListener(view, name, op, handler) {\n  let h = findOperatorHandler(op, handler);\n  if (!h) {\n    h = trap(view, () => handler(name, op.value));\n    h.handler = handler;\n    view.on(op, null, h);\n  }\n  return view;\n}\n\nfunction removeOperatorListener(view, op, handler) {\n  const h = findOperatorHandler(op, handler);\n  if (h) op._targets.remove(h);\n  return view;\n}\n\ninherits(View, Dataflow, {\n  // -- DATAFLOW / RENDERING ----\n\n  async evaluate(encode, prerun, postrun) {\n    // evaluate dataflow and prerun\n    await Dataflow.prototype.evaluate.call(this, encode, prerun);\n\n    // render as needed\n    if (this._redraw || this._resize) {\n      try {\n        if (this._renderer) {\n          if (this._resize) {\n            this._resize = 0;\n            resizeRenderer(this);\n          }\n          await this._renderer.renderAsync(this._scenegraph.root);\n        }\n        this._redraw = false;\n      } catch (e) {\n        this.error(e);\n      }\n    }\n\n    // evaluate postrun\n    if (postrun) asyncCallback(this, postrun);\n\n    return this;\n  },\n\n  dirty(item) {\n    this._redraw = true;\n    this._renderer && this._renderer.dirty(item);\n  },\n\n  // -- GET / SET ----\n\n  description(text) {\n    if (arguments.length) {\n      const desc = text != null ? (text + '') : null;\n      if (desc !== this._desc) ariaLabel(this._el, this._desc = desc);\n      return this;\n    }\n    return this._desc;\n  },\n\n  container() {\n    return this._el;\n  },\n\n  scenegraph() {\n    return this._scenegraph;\n  },\n\n  origin() {\n    return this._origin.slice();\n  },\n\n  signal(name, value, options) {\n    const op = lookupSignal(this, name);\n    return arguments.length === 1\n      ? op.value\n      : this.update(op, value, options);\n  },\n\n  width(_) {\n    return arguments.length ? this.signal('width', _) : this.signal('width');\n  },\n\n  height(_) {\n    return arguments.length ? this.signal('height', _) : this.signal('height');\n  },\n\n  padding(_) {\n    return arguments.length\n      ? this.signal('padding', padding(_))\n      : padding(this.signal('padding'));\n  },\n\n  autosize(_) {\n    return arguments.length ? this.signal('autosize', _) : this.signal('autosize');\n  },\n\n  background(_) {\n    return arguments.length ? this.signal('background', _) : this.signal('background');\n  },\n\n  renderer(type) {\n    if (!arguments.length) return this._renderType;\n    if (!renderModule(type)) error('Unrecognized renderer type: ' + type);\n    if (type !== this._renderType) {\n      this._renderType = type;\n      this._resetRenderer();\n    }\n    return this;\n  },\n\n  tooltip(handler) {\n    if (!arguments.length) return this._tooltip;\n    if (handler !== this._tooltip) {\n      this._tooltip = handler;\n      this._resetRenderer();\n    }\n    return this;\n  },\n\n  loader(loader) {\n    if (!arguments.length) return this._loader;\n    if (loader !== this._loader) {\n      Dataflow.prototype.loader.call(this, loader);\n      this._resetRenderer();\n    }\n    return this;\n  },\n\n  resize() {\n    // set flag to perform autosize\n    this._autosize = 1;\n    // touch autosize signal to ensure top-level ViewLayout runs\n    return this.touch(lookupSignal(this, 'autosize'));\n  },\n\n  _resetRenderer() {\n    if (this._renderer) {\n      this._renderer = null;\n      this.initialize(this._el, this._elBind);\n    }\n  },\n\n  // -- SIZING ----\n  _resizeView: resizeView,\n\n  // -- EVENT HANDLING ----\n\n  addEventListener(type, handler, options) {\n    let callback = handler;\n    if (!(options && options.trap === false)) {\n      // wrap callback in error handler\n      callback = trap(this, handler);\n      callback.raw = handler;\n    }\n    this._handler.on(type, callback);\n    return this;\n  },\n\n  removeEventListener(type, handler) {\n    var handlers = this._handler.handlers(type),\n        i = handlers.length, h, t;\n\n    // search registered handlers, remove if match found\n    while (--i >= 0) {\n      t = handlers[i].type;\n      h = handlers[i].handler;\n      if (type === t && (handler === h || handler === h.raw)) {\n        this._handler.off(t, h);\n        break;\n      }\n    }\n    return this;\n  },\n\n  addResizeListener(handler) {\n    const l = this._resizeListeners;\n    if (l.indexOf(handler) < 0) {\n      // add handler if it isn't already registered\n      // note: error trapping handled elsewhere, so\n      // no need to wrap handlers here\n      l.push(handler);\n    }\n    return this;\n  },\n\n  removeResizeListener(handler) {\n    var l = this._resizeListeners,\n        i = l.indexOf(handler);\n    if (i >= 0) {\n      l.splice(i, 1);\n    }\n    return this;\n  },\n\n  addSignalListener(name, handler) {\n    return addOperatorListener(this, name, lookupSignal(this, name), handler);\n  },\n\n  removeSignalListener(name, handler) {\n    return removeOperatorListener(this, lookupSignal(this, name), handler);\n  },\n\n  addDataListener(name, handler) {\n    return addOperatorListener(this, name, dataref(this, name).values, handler);\n  },\n\n  removeDataListener(name, handler) {\n    return removeOperatorListener(this, dataref(this, name).values, handler);\n  },\n\n  globalCursor(_) {\n    if (arguments.length) {\n      if (this._globalCursor !== !!_) {\n        const prev = setCursor(this, null); // clear previous cursor\n        this._globalCursor = !!_;\n        if (prev) setCursor(this, prev); // swap cursor\n      }\n      return this;\n    } else {\n      return this._globalCursor;\n    }\n  },\n\n  preventDefault(_) {\n    if (arguments.length) {\n      this._preventDefault = _;\n      return this;\n    } else {\n      return this._preventDefault;\n    }\n  },\n\n  timer,\n  events,\n  finalize,\n  hover,\n\n  // -- DATA ----\n  data,\n  change,\n  insert,\n  remove,\n\n  // -- SCALES --\n  scale,\n\n  // -- INITIALIZATION ----\n  initialize,\n\n  // -- HEADLESS RENDERING ----\n  toImageURL: renderToImageURL,\n  toCanvas: renderToCanvas,\n  toSVG: renderToSVG,\n\n  // -- SAVE / RESTORE STATE ----\n  getState,\n  setState\n});\n","import {transforms} from 'vega-dataflow';\nimport {functionContext} from 'vega-functions';\nimport {context} from 'vega-runtime';\n\nexport default function(view, spec, expr) {\n  return context(view, transforms, functionContext, expr).parse(spec);\n}\n","export default function(view) {\n  // respond to background signal\n  view.add(null, _ => {\n    view._background = _.bg;\n    view._resize = 1;\n    return _.bg;\n  }, { bg: view._signals.background });\n}\n","import {interval} from 'd3-timer';\n\nexport default function(callback, delay) {\n  function tick(elapsed) {\n    callback({timestamp: Date.now(), elapsed: elapsed});\n  }\n  this._timers.push(interval(tick, delay));\n}\n","import {Timer, now} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  t._restart = t.restart;\n  t.restart = function(callback, delay, time) {\n    delay = +delay, time = time == null ? now() : +time;\n    t._restart(function tick(elapsed) {\n      elapsed += total;\n      t._restart(tick, total += delay, time);\n      callback(elapsed);\n    }, delay, time);\n  }\n  t.restart(callback, delay, time);\n  return t;\n}\n","/**\n * Finalize a View instance that is being removed.\n * Cancel any running timers.\n * Remove all external event listeners.\n * Remove any currently displayed tooltip.\n */\nexport default function() {\n  var tooltip = this._tooltip,\n      timers = this._timers,\n      listeners = this._eventListeners,\n      n, m, e;\n\n  n = timers.length;\n  while (--n >= 0) {\n    timers[n].stop();\n  }\n\n  n = listeners.length;\n  while (--n >= 0) {\n    e = listeners[n];\n    m = e.sources.length;\n    while (--m >= 0) {\n      e.sources[m].removeEventListener(e.type, e.handler);\n    }\n  }\n\n  if (tooltip) {\n    tooltip.call(this, this._handler, null, null, null);\n  }\n\n  return this;\n}\n","import {error, hasOwnProperty} from 'vega-util';\n\nexport function scale(name) {\n  var scales = this._runtime.scales;\n  if (!hasOwnProperty(scales, name)) {\n    error('Unrecognized scale or projection: ' + name);\n  }\n  return scales[name].value;\n}\n","import {offset} from './render-size';\nimport trap from './trap';\n\nexport default function(view, prevHandler, el, constructor) {\n  // instantiate scenegraph handler\n  const handler = new constructor(view.loader(), trap(view, view.tooltip()))\n    .scene(view.scenegraph().root)\n    .initialize(el, offset(view), view);\n\n  // transfer event handlers\n  if (prevHandler) {\n    prevHandler.handlers().forEach(h => {\n      handler.on(h.type, h.handler);\n    });\n  }\n\n  return handler;\n}\n","import renderHeadless from './render-headless';\nimport {RenderType as Type} from 'vega-scenegraph';\nimport {error} from 'vega-util';\n\n/**\n * Produce an image URL for the visualization. Depending on the type\n * parameter, the generated URL contains data for either a PNG or SVG image.\n * The URL can be used (for example) to download images of the visualization.\n * This method is asynchronous, returning a Promise instance.\n * @param {string} type - The image type. One of 'svg', 'png' or 'canvas'.\n *   The 'canvas' and 'png' types are synonyms for a PNG image.\n * @return {Promise} - A promise that resolves to an image URL.\n */\nexport default async function(type, scaleFactor) {\n  if (type !== Type.Canvas && type !== Type.SVG && type !== Type.PNG) {\n    error('Unrecognized image type: ' + type);\n  }\n\n  const r = await renderHeadless(this, type, scaleFactor);\n  return type === Type.SVG\n    ? toBlobURL(r.svg(), 'image/svg+xml')\n    : r.canvas().toDataURL('image/png');\n}\n\nfunction toBlobURL(data, mime) {\n  const blob = new Blob([data], {type: mime});\n  return window.URL.createObjectURL(blob);\n}\n","import renderHeadless from './render-headless';\nimport {RenderType} from 'vega-scenegraph';\n\n/**\n * Produce a Canvas instance containing a rendered visualization.\n * This method is asynchronous, returning a Promise instance.\n * @return {Promise} - A promise that resolves to a Canvas instance.\n */\nexport default async function(scaleFactor, opt) {\n  const r = await renderHeadless(this, RenderType.Canvas, scaleFactor, opt);\n  return r.canvas();\n}\n","import renderHeadless from './render-headless';\nimport {RenderType} from 'vega-scenegraph';\n\n/**\n * Produce a rendered SVG string of the visualization.\n * This method is asynchronous, returning a Promise instance.\n * @return {Promise} - A promise that resolves to an SVG string.\n */\nexport default async function(scaleFactor) {\n  const r = await renderHeadless(this, RenderType.SVG, scaleFactor);\n  return r.svg();\n}\n"],"names":["ariaLabel","el","desc","removeAttribute","setAttribute","Default","setCursor","view","cursor","globalCursor","document","body","container","style","removeProperty","dataref","name","data","_runtime","hasOwnProperty","error","change","changes","isChangeSet","dataset","this","modified","pulse","input","width","padding","Math","max","_viewWidth","left","right","height","_viewHeight","top","bottom","offset","origin","_origin","event","item","p","e","translate","r","_renderer","canvas","changedTouches","point","dataflow","vega","itemGroup","mark","marktype","group","i","g","interactive","xy","isString","slice","x","y","constant","extension","VIEW","NO_TRAP","trap","permit","key","type","rule","_eventConfig","isObject","warn","itemFilter","markTarget","source","invoke","_","changeset","encode","tag","attr","text","createElement","textContent","e10","sqrt","e5","e2","BindClass","NameClass","binding","param","bind","state","elements","active","set","update","value","signal","runAsync","debounce","div","element","wrapper","appendChild","form","checkbox","select","radio","range","generate","on","_signals","node","addEventListener","checked","labels","options","forEach","option","valuesEqual","selected","selectedIndex","n","length","map","label","prepend","nodes","undefined","min","step","start","stop","count","step0","abs","step1","pow","floor","log","LN10","span","a","b","constructor","scaleFactor","opt","loader","initialize","background","fn","apply","arguments","lookup","querySelector","innerHTML","number","paddingObject","async","module","renderModule","ctr","headless","initializeRenderer","renderAsync","_scenegraph","root","Width","Height","Padding","Skip","skip","viewWidth","autosize","contains","viewHeight","dataTest","isArray","indexOf","signalTest","op","transforms","proxy","taskHead","taskTail","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","window","requestAnimationFrame","f","setTimeout","clearNow","Timer","_call","_time","_next","wake","t","call","timerFlush","t0","t2","t1","time","Infinity","sleep","nap","poke","delay","clearTimeout","clearInterval","setInterval","handler","formatArray","isDate","obj","Object","keys","v","formatValue","join","formatTooltip","View","spec","Dataflow","logger","logLevel","locale","loc","extend","_el","_elBind","_renderType","renderer","RenderType","Canvas","Scenegraph","_tooltip","tooltip","defaultTooltip","_redraw","_handler","CanvasHandler","scene","_globalCursor","_preventDefault","_timers","_eventListeners","_resizeListeners","config","events","defaults","unpack","k","toSet","initializeEventConfig","eventConfig","ctx","expr","context","functionContext","parse","runtime","signals","_bind","bindings","insert","items","_width","_height","_resize","_autosize","s","w","h","resetSize","_resizeWidth","add","size","_resizeHeight","resizePadding","pad","rank","initializeResize","_background","bg","user","description","hover","lookupSignal","stringValue","findOperatorHandler","_targets","filter","_update","addOperatorListener","removeOperatorListener","remove","prototype","callback","restart","TypeError","prerun","postrun","evaluate","resize","asyncCallback","dirty","_desc","scenegraph","_resetRenderer","_loader","touch","_resizeView","auto","runAfter","rerun","run","raw","removeEventListener","handlers","off","addResizeListener","l","push","removeResizeListener","splice","addSignalListener","removeSignalListener","addDataListener","values","removeDataListener","prev","preventDefault","total","_restart","tick","elapsed","timestamp","sources","EventStream","send","def","prevent","allow","receive","eventExtend","timer","querySelectorAll","finalize","m","timers","listeners","hoverSet","leaveSet","truthy","scale","scales","elBind","initializeAria","Handler","Renderer","prevHandler","initializeHandler","toImageURL","Type","SVG","PNG","renderHeadless","mime","blob","Blob","URL","createObjectURL","toBlobURL","svg","toDataURL","toCanvas","toSVG","getState","recurse","setState","_trigger"],"mappings":"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"}